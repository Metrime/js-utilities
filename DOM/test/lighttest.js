var lighttest={};lighttest._platform={},lighttest._platform._initialized=!1,lighttest._platform.init=function(){lighttest._platform._initialized||("undefined"!=typeof window?lighttest._platform._initWeb():lighttest._platform._initNode(),lighttest._platform._initialized=!0)},lighttest._platform._initWeb=function(){var a=document.getElementById("lighttest")||document.getElementsByTagName("body").item(0);a.style.margin=0;var b={backgroundColor:"rgb(2,14,15)",width:"100%",height:"100%",overflow:"auto",position:"absolute"},c=document.createElement("div");for(var d in b)c.style[d]=b[d];a.appendChild(c);var e={color:"rgb(173,196,190)",paddingBottom:"5px",paddingLeft:"5px",fontFamily:"monospace",fontSize:"8pt",position:"absolute"},f=document.createElement("div");for(d in e)f.style[d]=e[d];c.appendChild(f),lighttest._platform.print=function(a){f.innerHTML+=a.replace(/\ /g,"&nbsp;")},lighttest._platform._printPlain=function(a){f.innerHTML+=a};var g="text-shadow : 0px 0px 6px #FD4E7F; color: #F13D35;";lighttest._platform.printRed=function(a){lighttest._platform._printPlain('<span style="'+g+'">'+a+"</span>")};var h="text-shadow : 0px 0px 8px #50A39C; color: #56D670;";lighttest._platform.printGreen=function(a){lighttest._platform._printPlain('<span style="'+h+'">'+a+"</span>")};var i="text-shadow: 0px 0px 8px #507EA3; color: #58AEC9;";lighttest._platform.printBlue=function(a){lighttest._platform._printPlain('<span style="'+i+'">'+a+"</span>")},lighttest._platform.printLine=function(){lighttest._platform.print(" <br/>"),setTimeout(function(){c.scrollTop=c.scrollHeight},1)},lighttest._platform.reset=function(){f.innerHTML=""},lighttest._platform.exit=function(){}},lighttest._platform._initNode=function(){var a="[31m",b="[32m",c="[36m",d="[0m";lighttest._platform.print=function(a){process.stdout.write(a)},lighttest._platform.printRed=function(b){lighttest._platform.print(a+b+d)},lighttest._platform.printGreen=function(a){lighttest._platform.print(b+a+d)},lighttest._platform.printBlue=function(a){lighttest._platform.print(c+a+d)},lighttest._platform.printLine=function(){console.log()},lighttest._platform.reset=function(){},lighttest._platform.exit=function(a){process.exit(a)},process.on("uncaughtException",function(a){console.log(),console.error(a)})},lighttest._state="nothing",lighttest._pendingTests=null,lighttest._pendingCallback=null,lighttest.start=function(a,b){switch(lighttest._state){case"nothing":case"paused":lighttest._platform.init(),lighttest._platform.reset(),lighttest._testsFailed=0,lighttest._currentTestIdx=0,lighttest._state="running",lighttest._callback=b||null,lighttest._tests=[];for(var c in a)a.hasOwnProperty(c)&&lighttest._tests.push({label:c,method:a[c]});lighttest._next();break;case"running":case"interrupting":lighttest._state="interrupting",lighttest._pendingTests=a,lighttest._pendingCallback=b}},lighttest.pause=function(){switch(lighttest._state){case"nothing":case"interrupting":break;case"running":lighttest._state="interrupting",lighttest._pendingTests=null,lighttest._pendingCallback=null;break;case"paused":lighttest._state="running",lighttest._next()}},lighttest.check=function(a){a?lighttest._platform.printGreen(" PASS"):(lighttest._platform.printRed(" FAIL"),lighttest._currentFailed=!0)},lighttest.done=function(){setTimeout(lighttest._done,10)},lighttest._done=function(){switch(lighttest._currentFailed&&lighttest._testsFailed++,lighttest._currentTestIdx++,lighttest._state){case"paused":case"nothing":break;case"running":setTimeout(lighttest._next,0);break;case"interrupting":if(lighttest._pendingTests){var a=lighttest._pendingTests,b=lighttest._pendingCallback;lighttest._pendingTests=null,lighttest._pendingCallback=null,lighttest.start(a,b)}else lighttest._state="paused",lighttest._platform.printLine(),lighttest._platform.printLine(),lighttest._platform.printBlue("// paused"),lighttest._platform.printLine()}},lighttest._next=function(){var a=lighttest._currentTestIdx;if(a==lighttest._tests.length)lighttest._finalize();else{lighttest._platform.printLine(),lighttest._currentFailed=!1;var b=lighttest._tests[a];lighttest._platform.print(b.label+" "),setTimeout(b.method,0)}},lighttest._finalize=function(){var a=lighttest._testsFailed,b=lighttest._tests.length;lighttest._platform.printLine(),lighttest._platform.printLine(),a?(lighttest._platform.print(a+" of "+b+" tests "),lighttest._platform.printRed("FAILED")):(lighttest._platform.print(b+" tests "),lighttest._platform.printGreen("PASSED")),lighttest._platform.printLine(),lighttest._platform.printLine(),lighttest._state="nothing",lighttest._callback&&lighttest._callback(a),lighttest._platform.exit(a)};